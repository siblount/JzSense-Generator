<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta http-equiv="expires" content="0">
<title>DAZ Script 2: DAZ Script Coding Standards</title>
<link href="docstyle.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1><a class="anchor" name="standards">DAZ Script Coding Standards</a></h1>Below you'll find coding standards that DAZ uses internally. We've provided them here in hopes that you will find them useful in your own endeavors. We find that by using these standards, our code is easier to read and maintain. We hope that they might offer you the same.<p>
<div align="center"><a href="#varname">Variable Naming</a> | <a href="#funcname">Function Naming</a> | <a href="#format">Formatting</a> | <a href="#comment">Commenting</a></div> <hr>
 <a class="anchor" name="varname"></a> <h3>Variable Naming:</h3>
<p>
Variable names names should be descriptive, rather than brief. Use the following rules when naming variables: <p>
<b>Notation:</b><br>
 Since DAZ Script variables are type-less, use a Hungarian Notation style naming convention to help avoid confusion about what types variables and parameters are expected to be. The following is a list of prefixes for the different basic types:<p>
<table border="0" cellpadding="5" cellspacing="3">
<tr>
<th align="right" class="mdescLeft">Prefix </th><th align="left" class="mdescRight">Type  </th></tr>
<tr>
<td align="right" class="memItemLeft"><em>o </em> </td><td class="memItemRight"><a class="el" href="class_object.html" title="ECMASCript Object prototype object.">Object</a> – any variable that is intended to hold an instance of a <a class="el" href="class_q_object.html" title="The prototype object of all DAZ Studio API objects.">QObject</a> or <br>
DAZ Script custom class besides those listed below.  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>a </em> </td><td class="memItemRight"><a class="el" href="class_array.html" title="ECMAScript Array prototype object.">Array</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>b </em> </td><td class="memItemRight"><a class="el" href="class_boolean.html" title="ECMAScript Boolean prototype object.">Boolean</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>n </em> </td><td class="memItemRight"><a class="el" href="class_number.html" title="ECMAScript Number prototype object.">Number</a> (integer) type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>f </em> </td><td class="memItemRight"><a class="el" href="class_number.html" title="ECMAScript Number prototype object.">Number</a> (float) type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>s </em> </td><td class="memItemRight"><a class="el" href="class_string.html" title="ECMAScript String type.">String</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>clr </em> </td><td class="memItemRight"><a class="el" href="class_color.html" title="Qt Color type.">Color</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>cg </em> </td><td class="memItemRight"><a class="el" href="class_color_group.html" title="Qt ColorGroup type.">ColorGroup</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>pal </em> </td><td class="memItemRight"><a class="el" href="class_palette.html" title="Qt Palette type.">Palette</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>pix </em> </td><td class="memItemRight"><a class="el" href="class_pixmap.html" title="Qt Pixmap type.">Pixmap</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>date </em> </td><td class="memItemRight"><a class="el" href="class_date.html" title="ECMAScript Date prototype object.">Date</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>pnt </em> </td><td class="memItemRight"><a class="el" href="class_point.html" title="Qt Point type.">Point</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>rect </em> </td><td class="memItemRight"><a class="el" href="class_rect.html" title="Qt Rect type.">Rect</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>regx </em> </td><td class="memItemRight"><a class="el" href="class_reg_exp.html" title="ECMAScript RegExp type.">RegExp</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>size </em> </td><td class="memItemRight"><a class="el" href="class_size.html" title="Qt Size type.">Size</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>bytes </em> </td><td class="memItemRight"><a class="el" href="class_byte_array.html" title="Qt ByteArray type.">ByteArray</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>font </em> </td><td class="memItemRight"><a class="el" href="class_font.html" title="Qt Font type.">Font</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>w </em> </td><td class="memItemRight"><a class="el" href="class_dz_widget.html" title="DAZ Script widget base class.">DzWidget</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>box </em> </td><td class="memItemRight"><a class="el" href="class_dz_box3.html" title="A 3D box.">DzBox3</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>mtx </em> </td><td class="memItemRight"><a class="el" href="class_dz_matrix3.html" title="A 4 x 3 transformation matrix.">DzMatrix3</a> and <a class="el" href="class_dz_matrix4.html" title="A 4 x 4 transformation matrix.">DzMatrix4</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>vec </em> </td><td class="memItemRight"><a class="el" href="class_dz_vec3.html" title="A 3D vector class.">DzVec3</a> type varaibles  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>quat </em> </td><td class="memItemRight"><a class="el" href="class_dz_quat.html" title="A quaternion rotation class.">DzQuat</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>rng </em> </td><td class="memItemRight"><a class="el" href="class_dz_time_range.html" title="Represents an interval of time with a beginning and an end.">DzTimeRange</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>edge </em> </td><td class="memItemRight"><a class="el" href="class_dz_half_edge.html" title="Represents a segment on a face between two vertices.">DzHalfEdge</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>tri </em> </td><td class="memItemRight"><a class="el" href="class_dz_triangle.html" title="Represents a triangular face.">DzTriangle</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>quad </em> </td><td class="memItemRight"><a class="el" href="class_dz_quad.html" title="Represents a quadrilateral face.">DzQuad</a> type variables  </td></tr>
<tr>
<td align="right" class="memItemLeft"><em>poly </em> </td><td class="memItemRight"><a class="el" href="class_dz_polygon.html" title="Represents a general polygon - assumed to have 3 or more edges.">DzPolygon</a> type varaibles  </td></tr>
</table>
<p>
<b>Variable Name Case:</b><br>
 Variable names always start with a lowercase letter, with each subsequent word in the variable name starting with an uppercase letter (no underscores separating words). <p>
<b>Be Descriptive:</b><br>
 Always use descriptive variable names. Avoid making variable names from single letter abbreviations that can be difficult to read. One letter variable names should <b>NOT</b> be used, except in the following cases: <ul>
<li>
<em>i, j, k, n :</em> Should only be used to iterate over a for/while loop where the variables i, j, and k are iterators, and n is the total number of iterations. </li>
<li>
<em>x, y, z, w :</em> Should only be used to represent coordinates in 2D or 3D space. </li>
</ul>
<p>
<b>Global Variables:</b><br>
 Global variable names always start with 'g_'. Global variables should be used sparingly, but when they are used they should reside at the top of the file. <hr>
 <a class="anchor" name="funcname"></a> <h3><a class="el" href="class_function.html" title="ECMASCript Function prototype object.">Function</a> Naming:</h3>
<p>
<a class="el" href="class_function.html" title="ECMASCript Function prototype object.">Function</a> and method names (like variable names) always begin with a lowercase letter, with an uppercase letter used for every subsequent word in the function name. <hr>
 <a class="anchor" name="format"></a> <h3>Formatting:</h3>
<p>
It is important to format code in a manner that is easily readable. <p>
<b>Indentation:</b><br>
 Indentation is a very good visual cue for flow control in a program. Use tabs for indentation (not spaces). The indentation of the code should be increased by one level in each of the following circumstances.  <ul>
<li>
All code blocks beginning and ending with braces '{ }'. </li>
<li>
All code executed for a conditional statement. </li>
<li>
All code executed in a loop. </li>
<li>
All code inside a try-catch blocks. </li>
<li>
Statements that are continued on the next line. </li>
</ul>
 
<p> 
<div class="fragment"> 
<pre class="fragment">
<span class="keywordtype">function</span> indentationExample(){
	<span class="keywordtype">var</span> i, num = 10;
	<span class="keywordtype">var</span> nCount = 20, nRemainder = 0;

	<span class="keywordflow">for</span>( i = 0; i &lt; num; i++ )
		count--;

	<span class="keywordflow">if</span>( nCount &gt; 0 ){
		<span class="keywordflow">while</span>( nCount &gt; 0 ){
			nRemainder++;
			nCount--;
		}
	}

	<span class="keywordflow">try</span> {
		<span class="keywordflow">while</span>( nRemainder &gt; 0 )
			print( nRemainder-- );
	}
	<span class="keywordflow">catch</span>(...){
		print( <span class="stringliteral">"Unhandled exception!"</span> );
	}

	print( <span class="stringliteral">"This is a very long string. Okay, it isn\'t that long, "</span>
		<span class="stringliteral">"but its long enough that it must be continued on the next line."</span> );
} 
</pre>
</div>
<p></p>
 <p>
<b>Nested Conditional and Loop Statements:<br>
 </b>In the case of nested conditional and loop statements, braces should always be used to avoid confusion, and avoid logic errors such as the 'dangling else' problem. <p>
<b>Whitespace:</b><br>
 A <em>single</em> empty line should be used to visually denote groupings in the code, separating code blocks, algorithms, definition groupings, etc. Multiple consecutive empty lines should <em>not </em>be used. <hr>
 <a class="anchor" name="comment"></a> <h3>Commenting:</h3>
<p>
Good commenting habits make the code much easier to maintain. General comments throughout the code make it much easier to debug and extend the code, however, unless written specifically to disect what is happening in explaining samples, excessive commenting can make the code cluttered and more difficult to follow, and should be avoided - comment briefly, concisely, and whenever necessary - layout the code in blocks that can be commented as a whole, rather than individual lines. Comments that contradict the code are worse than no comments at all. Always make it a priority to keep comments up-to-date when the code changes. <p>
<b>General Comments:</b><br>
 General comments should be added to the code wherever appropriate. These may be C style (<b>//</b>) or C++ style (<b>/</b><b>*</b> <b>*</b><b>/</b>). Brief comments should follow the code on the same line. Comments for blocks of code, or larger comments should preceed the code and be at the same indentation level as the code. All algorithms in the code should have a comment briefly describing the function. Larger functions and methods should be blocked out with comments briefly describing the flow of the function. <p>
<b>Readability Comments:</b><br>
 Some comments in the code do nothing more than visually separate portions of the code. This can make the code much easier to 'scan' through, and so we have adopted a few comments that serve only as visual cues in the source code. <ul>
<li>
<em>File Local Sections</em> :<br>
 These comment blocks are used to separate blocks of file-local global variables, member variables, static variables, etc.  
<p>
<div class="fragment">
<pre class="fragment">
<span class="comment">/*****************************</span>
<span class="comment">   SectionLabel</span>
<span class="comment">*****************************/</span>
</pre>
</div>
</p>
  </li>
<li>
<p>
<em><a class="el" href="class_function.html" title="ECMASCript Function prototype object.">Function</a> Definitions</em> :<br>
 These comment blocks preceed every function definition, and serve to visually separate one function from the next.  
<p>
<div class="fragment">
<pre class="fragment">
<span class="comment">/*********************************************************************/</span>
</pre>
</div>
</p>
  </li>
</ul>
<hr size="1">
<address style="align: right;">
<small> Generated on Thu Sep 24 12:21:07 2009</small>
</address>
<h3 align="center">Copyright &copy; 2002 - 2009 DAZ 3D, Inc.</h3>
</body>
</html>
